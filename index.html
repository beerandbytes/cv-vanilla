<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ousama Merrakchi - Web CV</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Roboto', sans-serif;
            background-color: #f5f5f5;
        }
        /* Removed .editable styles as functionality is removed */
        .card {
            background-color: white;
            border-radius: 8px;
            padding: 24px;
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
        }
        .timeline::before {
            content: '';
            position: absolute;
            left: 8px;
            top: 8px;
            bottom: 0;
            width: 2px;
            background-color: #e0e0e0;
        }
        .timeline-dot {
            position: absolute;
            left: 0;
            top: 8px;
            height: 18px;
            width: 18px;
            background-color: #42a5f5;
            border-radius: 50%;
            border: 3px solid white;
        }

        /* Print and PDF Generation Styles */
        @media print {
            .no-print {
                display: none !important;
            }
            html, body {
                font-size: 9pt; /* Slightly smaller font for more content per page */
                background-color: white !important;
                -webkit-print-color-adjust: exact;
                print-color-adjust: exact;
                line-height: 1.2; /* Tighter line spacing */
            }
            #cv-container {
                max-width: 100% !important;
                padding: 0.5cm !important; /* Use cm for print consistency */
                margin: 0 !important;
            }
            main {
                display: flex !important; /* Use flex for print layout */
                flex-direction: column !important; /* Stack columns */
                gap: 0.5cm !important; /* Reduce gap between sections */
            }
            aside, .lg\:col-span-2 {
                width: 100% !important;
                display: block !important;
                flex: 1 1 auto; /* Allow items to grow/shrink but maintain base size */
            }
            .card {
                box-shadow: none !important;
                border: 1px solid #e0e0e0;
                padding: 0.8rem; /* Reduced padding */
                margin-bottom: 0.8rem; /* Reduced margin */
                page-break-inside: avoid;
            }
            h1, .text-5xl { font-size: 24pt !important; line-height: 1.1; } /* Smaller and tighter */
            h2, .text-2xl { font-size: 14pt !important; page-break-after: avoid; line-height: 1.2; }
            h3, .text-lg { font-size: 11pt !important; page-break-after: avoid; line-height: 1.2; }
            p, li, span { font-size: 9pt !important; line-height: 1.2; }
            
            .relative.timeline {
                page-break-inside: avoid;
            }
            .experience-item {
                page-break-inside: avoid;
                margin-bottom: 0.5rem; /* Reduce space between experience items */
            }
            .space-y-4 > div { /* Target contact list items */
                margin-bottom: 0.5rem !important;
            }
            .space-y-8 > div { /* Target experience list items */
                margin-bottom: 0.5rem !important;
            }
        }
    </style>
</head>
<body class="text-gray-700">

    <div id="cv-container" class="container mx-auto p-4 sm:p-6 lg:p-8 max-w-5xl">

        <!-- Header -->
        <header class="flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8">
            <div>
                <h1 id="name" class="text-5xl font-bold text-gray-800">OUSAMA MERRAKCHI</h1>
                <p id="title" class="text-xl text-blue-500 font-medium mt-1">Key Account Manager / Regional Southern Europe</p>
            </div>
            <div id="page-controls" class="no-print mt-4 sm:mt-0 flex items-center space-x-3">
                <!-- Language Switcher -->
                <div class="flex space-x-1 bg-gray-200 p-1 rounded-full">
                    <button onclick="changeLanguage('en')" class="lang-btn text-sm font-semibold px-3 py-1 rounded-full">EN</button>
                    <button onclick="changeLanguage('es')" class="lang-btn text-sm font-semibold px-3 py-1 rounded-full">ES</button>
                    <button onclick="changeLanguage('fr')" class="lang-btn text-sm font-semibold px-3 py-1 rounded-full">FR</button>
                </div>
                <!-- Download Button -->
                <button id="download-btn" class="flex items-center bg-blue-500 text-white px-4 py-2 rounded-full hover:bg-blue-600 transition-all shadow-md hover:shadow-lg">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4" />
                    </svg>
                    <span id="download-text">Download</span>
                </button>
            </div>
        </header>

        <main class="grid grid-cols-1 lg:grid-cols-3 gap-8">

            <!-- Left Column -->
            <aside class="lg:col-span-1 flex flex-col gap-8">
                <section class="card">
                    <h2 id="contact-title" class="text-2xl font-bold text-gray-800 mb-4">Contact</h2>
                    <div id="contact-list" class="space-y-4">
                        <!-- Contact items will be generated by JS -->
                    </div>
                </section>

                <section class="card">
                    <h2 id="skills-title" class="text-2xl font-bold text-gray-800 mb-4">Skills</h2>
                    <div id="skills-list" class="flex flex-wrap gap-2">
                        <!-- Skill chips will be generated by JS -->
                    </div>
                </section>
                
                <section class="card">
                    <h2 id="education-title" class="text-2xl font-bold text-gray-800 mb-4">Education</h2>
                    <div id="education-list">
                        <!-- Education items will be generated by JS -->
                    </div>
                </section>
            </aside>

            <!-- Right Column -->
            <div class="lg:col-span-2 flex flex-col gap-8">
                <section class="card">
                    <h2 id="summary-title" class="text-2xl font-bold text-gray-800 mb-4">Summary</h2>
                    <p id="summary-content" class="text-base leading-relaxed">
                        <!-- Summary content will be generated by JS -->
                    </p>
                </section>
                
                <section class="card">
                    <h2 id="experience-title" class="text-2xl font-bold text-gray-800 mb-6">Work Experience</h2>
                    <div id="experience-list" class="space-y-8">
                        <!-- Experience items will be generated by JS -->
                    </div>
                </section>
            </div>
        </main>
    </div>

    <script>
        const translations = {
            en: {
                title: "Key Account Manager / Regional Southern Europe",
                contactTitle: "Contact",
                contact: [
                    { icon: '<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-blue-500" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" /><path stroke-linecap="round" stroke-linejoin="round" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" /></svg>', text: "La Vall d'Uixó, 12600 Castellón, Spain" },
                    { icon: '<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-blue-500" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" /></svg>', text: "+34 602 326 150" },
                    { icon: '<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-blue-500" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" /></svg>', text: "merakchioussama@gmail.com" }
                ],
                skillsTitle: "Skills",
                skillsList: [
                    "Sales Strategy", "Customer Portfolio Management", "Forecasting & Sales Analysis", "Go-to-Market Strategy",
                    "Project Management", "Product Lifecycle Management", "Post-Sales Support (RMA)", "Distribution Channel Management",
                    "English (Fluent)", "French (Fluent)", "Spanish (Native/Fluent)", "Problem Solving"
                ],
                summaryTitle: "Summary",
                summaryContent: "Dynamic and multilingual Key Account & Country Manager with over 5 years of experience driving sales growth and market expansion in Southern Europe's IT hardware sector. Expertise in B2B/B2C e-commerce, sales strategy, and end-to-end customer success. I excel at managing product lifecycles, optimizing distribution channels, and executing go-to-market strategies that boost market share and profitability. With a solid technical background in IT and ongoing FullStack Development training, I bring a unique blend of commercial acumen and technical insight to every role.",
                experienceTitle: "Work Experience",
                experience: [
                    { title: "Business Development Manager | SLIMBOOK (GRUPO ODIN SOLUCIONES INFORMÁTICAS)", date: "APR 2025 - Present", tasks: ["Managed key accounts, suppliers, and brand collaborations, securing MDF and finance funding to support sales initiatives.", "Successfully closed over 30 orders exceeding €3,000 each after attending key industry events like OpenExpo Madrid and OWN Valencia in 2025."] },
                    { title: "Sales Manager | AMFYTECH SL", date: "NOV 2024 - JAN 2025", tasks: ["Generated over 400 qualified leads and secured three projects valued at more than €2 million, demonstrating a rapid ability to deliver significant business results in a new market."] },
                    { title: "WAREHOUSE ASSOCIATE | AMAZON ONDA VLC1", date: "JUN 2024 - SEP 2024", tasks: ["Picking of goods, stow, quality check , inventory"] },
                    { title: "IBERIA Country Manager | DEEPCOOL BEIJING CO LTD", date: "FEB 2023 - MAR 2024", tasks: ["Led sales and import operations for the IBERIA channel, covering Spain, Portugal, and Southern France.", "Improved sales forecasting and quarterly analysis of product performance, directly influencing distribution strategy.", "Customer portfolio management, RMA assistance, feedback collection.", "Achieved **€1.2 million** in billing, exceeding the target of **€850K**."] },
                    { title: "PRODUCT MANAGER | COOLMOD INFORMATICA S.L", date: "JAN 2019 - FEB 2023", tasks: ["Managed hardware product categories, developed sales strategies, and performed regular checks to minimize over-aged stock.", "Planned and executed marketing strategies and promotions.", "Identified key performance indicators (KPIs) for new product launches, leading to increased profitability and market share."] },
                    { title: "BACKEND INTERN | JMI BRUSSELS", date: "JUL 2018 - OCT 2018", tasks: ["Database design.", "Developed prototypes for web and mobile projects."] }
                ],
                educationTitle: "Education",
                education: [{ degree: "FullStack Developer", institution: "MASTERD, Castellón", date: "Feb 2024" }],
                downloadText: "Download"
            },
            es: {
                title: "Key Account Manager / Regional Sur de Europa",
                contactTitle: "Contacto",
                contact: [
                    { icon: '<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-blue-500" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" /><path stroke-linecap="round" stroke-linejoin="round" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" /></svg>', text: "La Vall d'Uixó, 12600 Castellón, España" },
                    { icon: '<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-blue-500" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" /></svg>', text: "+34 602 326 150" },
                    { icon: '<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-blue-500" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" /></svg>', text: "merakchioussama@gmail.com" }
                ],
                skillsTitle: "Aptitudes",
                skillsList: [
                    "Estrategia de Ventas", "Gestión de Cartera de Clientes", "Previsión y Análisis de Ventas", "Estrategia Go-to-Market",
                    "Gestión de Proyectos", "Gestión del Ciclo de Vida del Producto", "Soporte Postventa (RMA)", "Gestión de Canales de Distribución",
                    "Inglés (Fluido)", "Francés (Fluido)", "Castellano (Nativo/Fluido)", "Resolución de Problemas"
                ],
                summaryTitle: "Resumen",
                summaryContent: "Key Account & Country Manager dinámico y multilingüe con más de 5 años de experiencia impulsando el crecimiento de ventas y la expansión del mercado en el sector de hardware IT en el sur de Europa. Experiencia en e-commerce B2B/B2C, estrategia de ventas y gestión integral del éxito del cliente. Destaco en la gestión del ciclo de vida del producto, la optimización de canales de distribución y la ejecución de estrategias de lanzamiento al mercado que aumentan la cuota de mercado y la rentabilidad. Con una sólida base técnica en IT y formación continua en Desarrollo FullStack, aporto una combinación única de perspicacia comercial y conocimiento técnico a cada rol.",
                experienceTitle: "Experiencia Laboral",
                experience: [
                    { title: "Responsable de Desarrollo de Negocio | SLIMBOOK (GRUPO ODIN SOLUCIONES INFORMÁTICAS)", date: "ABR 2025 - Presente", tasks: ["Gestioné cuentas clave, proveedores y colaboraciones de marca, asegurando financiación MDF para apoyar iniciativas de ventas.", "Cerré con éxito más de 30 pedidos que superaron los 3.000 € cada uno después de asistir a eventos clave de la industria como OpenExpo Madrid y OWN Valencia en 2025."] },
                    { title: "Gerente de Ventas | AMFYTECH SL", date: "NOV 2024 - ENE 2025", tasks: ["Generé más de 400 leads cualificados y aseguré tres proyectos valorados en más de 2 millones de euros, demostrando una rápida capacidad para generar resultados comerciales significativos en un nuevo mercado."] },
                    { title: "ASOCIADO DE ALMACÉN | AMAZON ONDA VLC1", date: "JUN 2024 - SEP 2024", tasks: ["Recogida de mercancías, almacenamiento, control de calidad, inventario."] },
                    { title: "IBERIA Country Manager | DEEPCOOL BEIJING CO LTD", date: "FEB 2023 - MAR 2024", tasks: ["Dirigí operaciones de ventas e importación para el canal IBERIA, cubriendo España, Portugal y el sur de Francia.", "Mejoré la previsión de ventas y el análisis trimestral del rendimiento del producto, influyendo directamente en la estrategia de distribución.", "Gestión de cartera de clientes, asistencia RMA y recopilación de feedback.", "Logré una facturación de **1,2 millones de euros**, superando el objetivo de **850K euros**."] },
                    { title: "PRODUCT MANAGER | COOLMOD INFORMATICA S.L", date: "ENE 2019 - FEB 2023", tasks: ["Gestioné categorías de productos de hardware, desarrollé estrategias de ventas y realicé controles regulares para minimizar el stock antiguo.", "Planifiqué y ejecuté estrategias de marketing y promociones.", "Identifiqué indicadores clave de rendimiento (KPI) para el lanzamiento de nuevos productos, lo que llevó a un aumento de la rentabilidad y la cuota de mercado."] },
                    { title: "PRÁCTICAS BACKEND | JMI BRUSSELS", date: "JUL 2018 - OCT 2018", tasks: ["Diseño de base de datos.", "Desarrollé prototipos para proyectos web y móviles."] }
                ],
                educationTitle: "Formación",
                education: [{ degree: "Desarrollador FullStack", institution: "MASTERD, Castellón", date: "Feb 2024" }],
                downloadText: "Descargar"
            },
            fr: {
                title: "Responsable Grands Comptes / Europe du Sud",
                contactTitle: "Contact",
                contact: [
                    { icon: '<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-blue-500" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" /><path stroke-linecap="round" stroke-linejoin="round" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" /></svg>', text: "La Vall d'Uixó, 12600 Castellón, Espagne" },
                    { icon: '<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-blue-500" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" /></svg>', text: "+34 602 326 150" },
                    { icon: '<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-blue-500" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" /></svg>', text: "merakchioussama@gmail.com" }
                ],
                skillsTitle: "Compétences",
                skillsList: [
                    "Stratégie de Vente", "Gestion de Portefeuille Client", "Prévisions et Analyse des Ventes", "Stratégie de Mise sur le Marché",
                    "Gestion de Projet", "Gestion du Cycle de Vie des Produits", "Support Après-Vente (RMA)", "Gestion des Canaux de Distribution",
                    "Anglais (Courant)", "Français (Courant)", "Espagnol (Natif/Courant)", "Résolution de Problèmes"
                ],
                summaryTitle: "Résumé",
                summaryContent: "Key Account & Country Manager dynamique et multilingue avec plus de 5 ans d'expérience dans la croissance des ventes et l'expansion du marché dans le secteur du matériel informatique en Europe du Sud. Expertise en e-commerce B2B/B2C, stratégie de vente et gestion complète de la réussite client. J'excelle dans la gestion du cycle de vie des produits, l'optimisation des canaux de distribution et l'exécution de stratégies de mise sur le marché qui augmentent la part de marché et la rentabilité. Avec une solide base technique en IT et une formation continue en Développement FullStack, j'apporte un mélange unique de sens commercial et de perspicacité technique à chaque rôle.",
                experienceTitle: "Expérience Professionnelle",
                experience: [
                    { title: "Responsable du Développement Commercial | SLIMBOOK (GRUPO ODIN SOLUCIONES INFORMÁTICAS)", date: "AVR 2025 - Présent", tasks: ["Géré les comptes clés, les fournisseurs et les collaborations de marque, en obtenant des fonds MDF pour soutenir les initiatives de vente.", "Conclu avec succès plus de 30 commandes dépassant 3 000 € chacune après avoir participé à des événements clés de l'industrie comme OpenExpo Madrid et OWN Valencia en 2025."] },
                    { title: "Directeur des Ventes | AMFYTECH SL", date: "NOV 2024 - JAN 2025", tasks: ["Généré plus de 400 prospects qualifiés et obtenu trois projets évalués à plus de 2 millions d'euros, démontrant une capacité rapide à générer des résultats commerciaux significatifs sur un nouveau marché."] },
                    { title: "AGENT D'ENTREPÔT | AMAZON ONDA VLC1", date: "JUIN 2024 - SEP 2024", tasks: ["Prélèvement de marchandises, rangement, contrôle qualité, inventaire."] },
                    { title: "IBERIA Country Manager | DEEPCOOL BEIJING CO LTD", date: "FÉV 2023 - MAR 2024", tasks: ["Dirigé les opérations de vente et d'importation pour le canal IBERIA, couvrant l'Espagne, le Portugal et le sud de la France.", "Amélioré les prévisions de ventes et l'analyse trimestrielle des performances des produits, influençant directement la stratégie de distribution.", "Gestion du portefeuille clients, assistance RMA et collecte de feedback.", "Atteint **1,2 million d'euros** de chiffre d'affaires, dépassant l'objectif de **850K euros**."] },
                    { title: "CHEF DE PRODUIT | COOLMOD INFORMATICA S.L", date: "JAN 2019 - FÉV 2023", tasks: ["Géré les catégories de produits matériels, développé des stratégies de vente et effectué des contrôles réguliers pour minimiser les stocks anciens.", "Planifié et exécuté des stratégies marketing et des promotions.", "Identifié les indicateurs clés de performance (KPI) pour le lancement de nouveaux produits, ce qui a conduit à une rentabilité et une part de marché accrue."] },
                    { title: "STAGIAIRE BACKEND | JMI BRUXELLES", date: "JUI 2018 - OCT 2018", tasks: ["Conception de base de données.", "Développé des prototypes pour des projets web et mobiles."] }
                ],
                educationTitle: "Formation",
                education: [{ degree: "Développeur FullStack", institution: "MASTERD, Castellón", date: "Fév 2024" }],
                downloadText: "Télécharger"
            }
        };

        function createExperienceItem(exp) {
            const div = document.createElement('div');
            div.className = 'relative pl-8 experience-item';
            div.innerHTML = `
                <div class="timeline-dot"></div>
                <p class="text-sm text-gray-500 mb-1">${exp.date}</p>
                <h3 class="text-lg font-semibold text-gray-800">${exp.title}</h3>
                <ul class="list-disc list-inside mt-2 space-y-1 text-gray-600">
                    ${exp.tasks.map(task => `<li>${task}</li>`).join('')}
                </ul>
            `;
            return div;
        }

        function changeLanguage(lang) {
            const data = translations[lang];

            // Update simple text elements
            document.getElementById('title').textContent = data.title;
            document.getElementById('contact-title').textContent = data.contactTitle;
            document.getElementById('skills-title').textContent = data.skillsTitle;
            document.getElementById('summary-title').textContent = data.summaryTitle;
            document.getElementById('summary-content').textContent = data.summaryContent;
            document.getElementById('experience-title').textContent = data.experienceTitle;
            document.getElementById('education-title').textContent = data.educationTitle;
            document.getElementById('download-text').textContent = data.downloadText;

            // Update contact list
            const contactList = document.getElementById('contact-list');
            contactList.innerHTML = '';
            data.contact.forEach(item => {
                const div = document.createElement('div');
                div.className = 'flex items-center gap-4';
                div.innerHTML = `
                    ${item.icon}
                    <span>${item.text}</span>
                `;
                contactList.appendChild(div);
            });

            // Update skills list
            const skillsList = document.getElementById('skills-list');
            skillsList.innerHTML = '';
            data.skillsList.forEach(skill => {
                const span = document.createElement('span');
                span.className = 'bg-blue-100 text-blue-800 text-sm font-medium px-3 py-1 rounded-full';
                span.textContent = skill;
                skillsList.appendChild(span);
            });

            // Update experience list
            const experienceList = document.getElementById('experience-list');
            experienceList.innerHTML = '<div class="relative timeline"></div>'; // Recreate timeline container
            const timelineContainer = experienceList.querySelector('.timeline');
            data.experience.forEach(exp => {
                timelineContainer.appendChild(createExperienceItem(exp));
            });

            // Update education list
            const educationList = document.getElementById('education-list');
            educationList.innerHTML = '';
            data.education.forEach(edu => {
                const div = document.createElement('div');
                div.innerHTML = `
                    <h3 class="text-lg font-semibold text-gray-800">${edu.degree}</h3>
                    <p class="text-gray-600">${edu.institution}</p>
                    <p class="text-sm text-gray-500 mt-1">${edu.date}</p>
                `;
                educationList.appendChild(div);
            });

            // Update language button styles
            document.querySelectorAll('.lang-btn').forEach(btn => {
                btn.classList.remove('bg-white', 'text-blue-600');
            });
            const activeBtn = document.querySelector(`.lang-btn[onclick="changeLanguage('${lang}')"]`);
            if (activeBtn) {
                activeBtn.classList.add('bg-white', 'text-blue-600');
            }
        }

        document.getElementById('download-btn').addEventListener('click', () => {
            const controls = document.getElementById('page-controls');
            const element = document.getElementById('cv-container');
            const name = document.getElementById('name').textContent.trim().replace(' ', '_');
            
            const opt = {
                margin:      0.1, 
                filename:    `CV_${name}.pdf`,
                image:       { type: 'jpeg', quality: 0.98 },
                html2canvas: { scale: 2, useCORS: true, letterRendering: true },
                jsPDF:       { unit: 'in', format: 'a4', orientation: 'portrait' },
                pagebreak:   { mode: 'avoid-all', avoid: ['.card', '.experience-item'] }
            };

            // Hide controls before generating PDF
            controls.style.display = 'none';

            // Generate PDF and re-show controls when done
            html2pdf().from(element).set(opt).save().finally(() => {
                controls.style.display = 'flex';
            });
        });

        window.onload = () => {
            changeLanguage('en');
        };
    </script>
</body>
</html>
